c3.chart.internal.fn.getBarW=function(t,a){var n=this.config,r=void 0;if($.isNumeric(n.bar_width)){var i=n.bar_width;i=n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i,r=function(t,a){return i}}else if(c3.chart.internal.fn.isFunction(n.bar_width))r=n.bar_width;else{i=a?t.tickInterval()*n.bar_width_ratio/a:0;i=n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i,r=function(t,a){return i}}return r},c3.chart.internal.fn.getShapeX=function(r,i,e,t){var c=t?this.subX:this.x;return function(t,a){var n=t.id in e?e[t.id]:0;return t.x||0===t.x?c3.chart.internal.fn.isFunction(r)?c(t.x)-r(t,a)*(i/2-n):c(t.x)-r*(i/2-n):0}},c3.chart.internal.fn.generateGetBarPoints=function(t,a){var c=this,n=a?c.subXAxis:c.xAxis,r=t.__max__+1,f=c.getBarW(n,r),u=c.getShapeX(f,r,t,!!a),o=c.getShapeY(!!a),h=c3.chart.internal.fn.isFunction(c.config.bar_offset)?c.config.bar_offset:c.getShapeOffset(c.isBarType,t,!!a),s=a?c.getSubYScale:c.getYScale;return function(t,a){var n=s.call(c,t.id)(0),r=h(t,a)||n,i=u(t,a),e=o(t);return c.config.axis_rotated&&(0<t.value&&e<n||t.value<0&&n<e)&&(e=n),[[i,r],[i,e-(n-r)],[i+f(t,a),e-(n-r)],[i+f(t,a),r]]}},c3.chart.internal.fn.getYDomainMax=function(t){var a,n,r,i,e,c,f=this,u=f.config,o=f.mapToIds(t),h=f.getValuesAsIdKeyed(t);if(0<u.data_groups.length&&!u.bar_bullet)for(c=f.hasPositiveValueInTargets(t),a=0;a<u.data_groups.length;a++)if(0!==(i=u.data_groups[a].filter(function(t){return 0<=o.indexOf(t)})).length)for(r=i[0],c&&h[r]&&h[r].forEach(function(t,a){h[r][a]=0<t?t:0}),n=1;n<i.length;n++)e=i[n],h[e]&&h[e].forEach(function(t,a){f.axis.getId(e)!==f.axis.getId(r)||!h[r]||c&&+t<0||(h[r][a]+=+t)});return f.d3.max(Object.keys(h).map(function(t){return f.d3.max(h[t])}))};